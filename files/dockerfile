# Lightweight Java 8 runtime (Alpine)
FROM amazoncorretto:8-alpine

# Create non-root user for security
RUN addgroup -S app && adduser -S app -G app

# Set working directory
WORKDIR /app

# Copy JAR
COPY target/*.jar app.jar

# Set ownership
RUN chown -R app:app /app

# Switch to non-root user
USER app

# Expose application port
EXPOSE 5430

# Run application with JAVA_OPTS support
CMD ["java", "-version"]

